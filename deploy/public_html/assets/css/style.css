/* Exclude tags badge adaptive for dark mode */
[data-theme="dark"] #exclude-tags .badge {
    background: linear-gradient(90deg,#2a3a3f,#1e2a2e) !important;
    color: #7abaff !important;
    border: 1px solid #3a4a4f !important;
}

#food-list .food-item.active {
    background: var(--bs-card-bg, #e9f7ef);
    border-left: 4px solid #28a745;
}
[data-theme="dark"] #food-list .food-item.active {
    background: #22332a !important;
    border-left: 4px solid #7abaff;
}
/* Adaptive RMS custom classes for dark/light mode */
.rms-card-adaptive {
    background-color: var(--bs-card-bg, var(--bs-body-bg, #fff));
    color: var(--bs-body-color, #212529);
    border-color: var(--bs-card-border-color, var(--bs-border-color, #dee2e6));
    transition: background 0.3s, color 0.3s, border-color 0.3s;
}

.rms-muted-adaptive {
    color: var(--bs-secondary-color, var(--bs-body-color, #212529));
    opacity: 0.92;
    transition: color 0.3s;
}

.rms-input-adaptive {
    background-color: var(--bs-form-control-bg, #fff);
    color: var(--bs-form-control-color, #212529);
    border-color: var(--bs-form-control-border-color, #ced4da);
    transition: background 0.3s, color 0.3s, border-color 0.3s;
}

.rms-btn-adaptive {
    background-color: var(--bs-btn-bg, #198754);
    color: var(--bs-btn-color, #fff);
    border-color: var(--bs-btn-border-color, #198754);
    transition: background 0.3s, color 0.3s, border-color 0.3s;
}

[data-theme="dark"] .rms-card-adaptive {
    background-color: var(--bs-card-bg, #282c34) !important;
    color: var(--bs-body-color, #e0e0e0) !important;
    border-color: var(--bs-card-border-color, var(--bs-border-color, #393e46)) !important;
}

[data-theme="dark"] .rms-muted-adaptive {
    color: #b0b8c1 !important;
}

[data-theme="dark"] .rms-input-adaptive {
    background-color: var(--bs-form-control-bg, #393e46) !important;
    color: var(--bs-form-control-color, #e0e0e0) !important;
    border-color: var(--bs-form-control-border-color, #4e5561) !important;
}

[data-theme="dark"] .rms-btn-adaptive {
    background-color: var(--bs-btn-bg, #393e46) !important;
    color: var(--bs-btn-color, #e0e0e0) !important;
    border-color: var(--bs-btn-border-color, #4e5561) !important;
}
/* Custom styles */

/* Prevent flash by applying theme immediately */
:root {
    color-scheme: light;
}


[data-theme="dark"] {
    color-scheme: dark;
    --bs-body-color: #e0e0e0;
    --bs-body-bg: #23272e;
    --bs-heading-color: #ffffff;
    --bs-secondary-color: rgba(224, 224, 224, 0.72);
    --bs-border-color: #4e5561;
    --bs-link-color: #7abaff;
    --bs-link-hover-color: #a8d1ff;
    --bs-card-bg: #282c34;
    --bs-card-color: #e0e0e0;
    --bs-card-border-color: #393e46;
    --bs-navbar-bg: #23272e;
    --bs-navbar-color: #e0e0e0;
    --bs-btn-bg: #393e46;
    --bs-btn-color: #e0e0e0;
    --bs-btn-border-color: #4e5561;
    --bs-btn-hover-bg: #4e5561;
    --bs-btn-hover-color: #ffffff;
    --bs-form-control-bg: #393e46;
    --bs-form-control-color: #e0e0e0;
    --bs-form-control-border-color: #4e5561;
    --bs-input-group-addon-bg: #393e46;
    --bs-input-group-addon-color: #e0e0e0;
    --bs-list-group-bg: #282c34;
    --bs-list-group-color: #e0e0e0;
    --bs-list-group-border-color: #393e46;
    --bs-modal-bg: #282c34;
    --bs-modal-color: #e0e0e0;
    --bs-alert-bg: #393e46;
    --bs-alert-color: #e0e0e0;
    --bs-alert-border-color: #4e5561;
    --bs-table-bg: #282c34;
    --bs-table-color: #e0e0e0;
    --bs-table-border-color: #393e46;
}

/* Dark mode: ensure placeholders and helper text are readable */
[data-theme="dark"] .form-control::placeholder,
[data-theme="dark"] .form-select::placeholder {
    color: rgba(224, 224, 224, 0.55) !important;
    opacity: 1;
}
[data-theme="dark"] .form-text {
    color: var(--bs-secondary-color) !important;
}

/* Dark mode: make alerts and list items follow theme (Bootstrap contextual alerts are otherwise too bright). */
[data-theme="dark"] .alert {
    background-color: var(--bs-card-bg, #282c34) !important;
    color: var(--bs-body-color, #e0e0e0) !important;
    border-color: var(--bs-card-border-color, #393e46) !important;
}
[data-theme="dark"] .alert a {
    color: inherit;
}

[data-theme="dark"] .list-group,
[data-theme="dark"] .list-group-item {
    background-color: var(--bs-list-group-bg, var(--bs-card-bg, #282c34)) !important;
    color: var(--bs-list-group-color, var(--bs-body-color, #e0e0e0)) !important;
    border-color: var(--bs-list-group-border-color, var(--bs-card-border-color, #393e46)) !important;
}
[data-theme="dark"] .list-group-item-action:hover,
[data-theme="dark"] .list-group-item-action:focus {
    background-color: rgba(255, 255, 255, 0.07) !important;
    color: var(--bs-body-color, #e0e0e0) !important;
}

/* Schedules: override page-local bright selection/hover styles in dark mode (needs higher specificity). */
[data-theme="dark"] #catatan-list .catatan-item.selected {
    background-color: #22332a !important;
    border-left-color: #7abaff !important;
}
[data-theme="dark"] #catatan-list .catatan-item:hover {
    background-color: rgba(255, 255, 255, 0.04) !important;
}
[data-theme="dark"] #catatan-list .catatan-item {
    border-color: var(--bs-card-border-color, #393e46) !important;
}


[data-theme="dark"] .bg-light {
    background-color: #282c34 !important;
    color: #e0e0e0 !important;
}


[data-theme="dark"] .text-muted {
    color: #b0b8c1 !important;
}


[data-theme="dark"] .border {
    border-color: #393e46 !important;
}


[data-theme="dark"] .card {
    background-color: var(--bs-card-bg);
    color: var(--bs-card-color);
    border-color: var(--bs-card-border-color);
    box-shadow: 0 2px 8px rgba(0,0,0,0.25);
}


[data-theme="dark"] .navbar {
    background-color: var(--bs-navbar-bg) !important;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}


[data-theme="dark"] .navbar-nav .nav-link {
    color: var(--bs-navbar-color);
    opacity: 0.92;
}


[data-theme="dark"] .navbar-nav .nav-link:hover {
    background-color: rgba(255, 255, 255, 0.07);
}


[data-theme="dark"] .form-control,
[data-theme="dark"] .form-select {
    background-color: var(--bs-form-control-bg);
    color: var(--bs-form-control-color);
    border-color: var(--bs-form-control-border-color);
    box-shadow: none;
}


[data-theme="dark"] .form-control:focus,
[data-theme="dark"] .form-select:focus {
    background-color: #32363e;
    color: #fff;
    border-color: #0d6efd;
    box-shadow: 0 0 0 0.15rem rgba(13, 110, 253, 0.18);
}


[data-theme="dark"] .btn-outline-primary {
    color: #7abaff;
    border-color: #7abaff;
    background: transparent;
}
[data-theme="dark"] .btn-outline-primary:hover {
    background-color: #388bfd;
    border-color: #388bfd;
    color: #fff;
}


[data-theme="dark"] .dropdown-menu {
    background-color: #23272e;
    border-color: #393e46;
}


[data-theme="dark"] .dropdown-item {
    color: #e0e0e0;
}
[data-theme="dark"] .dropdown-item:hover {
    background-color: rgba(255,255,255,0.07);
}


/* Custom scrollbar for dark mode */
[data-theme="dark"] ::-webkit-scrollbar {
    width: 8px;
}
[data-theme="dark"] ::-webkit-scrollbar-track {
    background: #23272e;
}
[data-theme="dark"] ::-webkit-scrollbar-thumb {
    background: #393e46;
    border-radius: 4px;
}
[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
    background: #7abaff;
}

/* Notifications: subtle hover/click feedback (theme-aligned) */
.notif-dropdown-menu .dropdown-item {
    transition: background-color 0.12s ease, color 0.12s ease;
}
.notif-dropdown-menu .dropdown-item:hover,
.notif-dropdown-menu .dropdown-item:focus {
    background-color: var(--bs-tertiary-bg, rgba(0, 0, 0, 0.03));
}
[data-theme="dark"] .notif-dropdown-menu .dropdown-item:hover,
[data-theme="dark"] .notif-dropdown-menu .dropdown-item:focus {
    background-color: rgba(255, 255, 255, 0.07);
}
.notif-dropdown-menu .dropdown-item:active {
    background-color: var(--bs-success-bg-subtle, var(--bs-tertiary-bg, rgba(0, 0, 0, 0.03)));
    color: var(--bs-body-color);
}

details[data-notif-dropdown="1"] > summary,
.notif-details > summary {
    user-select: none;
    transition: background-color 0.12s ease;
    border-radius: 0.5rem;
}
.notif-summary {
    padding-right: 3rem; /* reserve space for the top-right X */
}
details[data-notif-dropdown="1"] > summary::-webkit-details-marker,
.notif-details > summary::-webkit-details-marker {
    display: none;
}
details[data-notif-dropdown="1"] > summary:hover,
.notif-details > summary:hover {
    background-color: var(--bs-tertiary-bg, rgba(0, 0, 0, 0.03));
}
[data-theme="dark"] details[data-notif-dropdown="1"] > summary:hover,
[data-theme="dark"] .notif-details > summary:hover {
    background-color: rgba(255, 255, 255, 0.07);
}
details[data-notif-dropdown="1"] > summary:focus-visible,
.notif-details > summary:focus-visible {
    outline: 2px solid var(--bs-success);
    outline-offset: 2px;
}

.notif-delete-btn {
    opacity: 0.65;
    transition: opacity 0.12s ease;
}
.notif-delete-wrap {
    pointer-events: auto;
    width: 1.75rem;
    height: 1.75rem;
    align-items: center;
    justify-content: center;
}
.notif-delete-btn:hover {
    opacity: 1;
}